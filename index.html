<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🕊️ Towards Eternity - Islamic Learning Journal</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Include Handlebars.js from a CDN for dynamic templating -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1 class="main-title">🕊️ Towards Eternity</h1>
            <p class="subtitle">Weekly Islamic learning journal — track classes and access resources.</p>
            <div class="motto">
                <p class="arabic-text">رَّبِّ زِدْنِيْ عِلْمًا</p>
                <p class="translation">"Rabbi Zidni Ilma" - My Lord, increase me in knowledge</p>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <!-- Navigation -->
            <nav class="navigation">
                <a href="#resources-section" class="nav-link active">Resources</a>
                <a href="#class-records-section" class="nav-link">Class Records</a>
                <a href="#quran-resources-section" class="nav-link">Quran Resources</a>
            </nav>

            <!-- Resources Section -->
            <section id="resources-section" class="resources-section content-section">
                <div class="section-header">
                    <div class="icon-container">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h2>Resources</h2>
                </div>
                <div id="resources-loading" class="loading">
                    <div class="spinner"></div>
                    <p>Loading resources...</p>
                </div>
                <div id="resources-grid" class="resources-grid"></div>
                <div id="resources-empty" class="empty-state" style="display: none;">
                    <div class="empty-icon">📚</div>
                    <p>No resources found.</p>
                </div>
            </section>

            <!-- Class Records Section -->
            <section id="class-records-section" class="class-records-section content-section" style="display: none;">
                <div class="section-header">
                    <div class="icon-container">
                        <i class="fas fa-file-audio"></i>
                    </div>
                    <h2>Class Records</h2>
                </div>
                <div id="records-loading" class="loading">
                    <div class="spinner"></div>
                    <p>Loading class records...</p>
                </div>
                <div id="class-records" class="class-records"></div>
                <div id="records-empty" class="empty-state" style="display: none;">
                    <div class="empty-icon">📚</div>
                    <p>No class records found.</p>
                </div>
                <div id="pagination" class="pagination" style="display: none;"></div>
            </section>

            <!-- New section for Quran Resources -->
            <section id="quran-resources-section" class="quran-resources-section content-section" style="display: none;">
                <div class="section-header">
                    <div class="icon-container">
                        <i class="fas fa-quran"></i>
                    </div>
                    <h2>Quran Resources</h2>
                </div>
                <!-- Search bar and button -->
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search by sura, ayat, or resource text..." class="search-input">
                    <button id="search-button" class="search-button">Search</button>
                </div>
                <div id="quran-resources-content" class="quran-resources-content">
                    <p class="text-center text-gray-400">Loading resources...</p>
                </div>
                <div id="quran-resources-empty" class="empty-state" style="display: none;">
                    <div class="empty-icon">📖</div>
                    <p>No Quran resources found.</p>
                </div>
            </section>
        </div>
    </main>

    <!-- The Handlebars template is defined here inside a script tag -->
    <script id="quran-resources-template" type="text/x-handlebars-template">
        {{#if quranResources.length}}
        <div class="resources-table-container">
            <table>
                <thead>
                    <tr>
                        <th>Sura #</th>
                        <th>Name</th>
                        <th>Ayat</th>
                        <th>Resource Type</th>
                        <th>Resources</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each quranResources}}
                    <tr>
                        <td>{{suraNum}}</td>
                        <td>{{name}}</td>
                        <td>{{ayat}}</td>
                        <td>{{resourceType}}</td>
                        <td>
                            {{#each resources}}
                                <a href="{{url}}" class="block resource-link" target="_blank">{{text}}</a>
                            {{/each}}
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
        {{else}}
        <p id="no-results" class="empty-state" >No results found.</p>
        {{/if}}
    </script>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Humayun Ahmed Ashik. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>
